import co from './co.cc';
// import connectToServer from './connectToServer';

cc.Class({
  extends: cc.Component,

  properties: {},

  onLoad() {
    // co.enableAutoTick(30);

    cc.store = {
      minBet: 0,
      maxBet: 0,
      currentBet: 0,
      freeGameCnts: 0,

      soundEnabled: true,

      gameResult: {},
      gameResultGotStatus: 0,
      isGameResultGot() {
        return cc.store.gameResultGotStatus === 3;
      },

      playing: false,
      canPlay() {
        return true;
      },

      mainServer: null,
      lobbyServer: null,
      gameServer: null
    };

    // cc.find('Canvas/Game').active = false;
  },

  start() {
    cc.assetManager.loadBundle('mp4', (error, bundle) => {
      if (!error) {
        bundle.preloadDir('./', cc.VideoClip);
      }
    });

    cc.find('Canvas/Game').active = false;

    // connectToServer('213.139.235.73', 6380, 'gtest001', 'gtest001');
  },

  update() {
    co.performTick(cc.director._lastUpdate);
  }
});
